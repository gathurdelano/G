<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Red Spinner Angka</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        body {
            background: linear-gradient(135deg, #200000 0%, #0a0000 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
            color: white;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            text-align: center;
            position: relative;
            z-index: 10;
        }
        
        header {
            margin-bottom: 40px;
        }
        
        h1 {
            color: #fff;
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(255, 0, 0, 0.7);
            letter-spacing: 2px;
            background: linear-gradient(to right, #ffcccc, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #ff9999;
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 10px;
            line-height: 1.6;
            font-weight: 300;
        }
        
        .spinner-container {
            position: relative;
            margin: 40px auto;
            width: 380px;
            height: 380px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .spinner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            box-shadow: 
                0 0 0 15px #8b0000,
                0 0 30px rgba(139, 0, 0, 0.8),
                inset 0 0 50px rgba(0, 0, 0, 0.9);
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.21, 0.99);
            background: #1a0000;
            cursor: pointer;
            touch-action: manipulation;
            overflow: visible;
            border: 8px solid #ff3333;
        }
        
        .spinner:active {
            cursor: grabbing;
        }
        
        .spinner-center {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #ff0000;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            box-shadow: 
                0 0 20px rgba(255, 0, 0, 0.9),
                inset 0 0 10px rgba(255, 255, 255, 0.3);
            border: 5px solid white;
        }
        
        .spinner-section {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            overflow: visible;
            clip-path: polygon(0 0, 100% 0, 100% 100%);
        }
        
        .spinner-section-content {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(45deg);
            font-weight: 900;
            color: white;
            padding-left: 35px;
            padding-bottom: 35px;
            font-size: 22px;
            text-shadow: 
                1px 1px 3px rgba(0, 0, 0, 0.9),
                0 0 10px rgba(255, 255, 255, 0.5);
            letter-spacing: 1px;
        }
        
        /* POINTER TETAP DI ATAS - TIDAK BERGERAK */
        .pointer-container {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 70px;
            z-index: 50;
            pointer-events: none;
        }
        
        .pointer {
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 50px solid #ff0000;
            position: relative;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.9));
        }
        
        .pointer::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            background: #ff0000;
            border-radius: 50%;
            top: -65px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.9);
        }
        
        .pointer-line {
            position: absolute;
            width: 4px;
            height: 380px;
            background: linear-gradient(to bottom, 
                rgba(255, 0, 0, 0) 0%,
                rgba(255, 0, 0, 0.8) 30%,
                rgba(255, 0, 0, 1) 50%,
                rgba(255, 0, 0, 0.8) 70%,
                rgba(255, 0, 0, 0) 100%);
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 45;
            pointer-events: none;
        }
        
        .result-container {
            background: linear-gradient(145deg, #2a0000, #1a0000);
            border-radius: 20px;
            padding: 35px;
            margin: 40px auto;
            width: 90%;
            max-width: 500px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.7),
                inset 0 0 30px rgba(139, 0, 0, 0.3);
            border: 3px solid #8b0000;
            position: relative;
            overflow: hidden;
        }
        
        .result-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(to right, 
                #ff0000, #ff6666, #ff0000);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
        }
        
        .result-label {
            color: #ffcccc;
            font-size: 1.4rem;
            margin-bottom: 25px;
            font-weight: 600;
            letter-spacing: 1px;
        }
        
        .result-number {
            font-size: 6rem;
            color: #ff0000;
            font-weight: 900;
            text-align: center;
            transition: all 0.5s ease;
            text-shadow: 
                0 0 20px rgba(255, 0, 0, 0.9),
                0 0 40px rgba(255, 0, 0, 0.5);
            margin: 10px 0;
            line-height: 1;
        }
        
        .result-prompt {
            background: rgba(26, 0, 0, 0.9);
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            border: 2px solid #8b0000;
            text-align: left;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .prompt-text {
            color: #ffcccc;
            font-size: 1rem;
            line-height: 1.7;
            min-height: 80px;
        }
        
        .instructions {
            background: rgba(42, 0, 0, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #8b0000;
        }
        
        .instructions h3 {
            color: #ff6666;
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(255, 102, 102, 0.5);
        }
        
        .instructions p {
            color: #ff9999;
            line-height: 1.7;
            font-size: 1.1rem;
        }
        
        /* Animasi */
        @keyframes glow {
            0%, 100% { 
                box-shadow: 
                    0 0 0 15px #8b0000,
                    0 0 30px rgba(139, 0, 0, 0.8),
                    inset 0 0 50px rgba(0, 0, 0, 0.9);
            }
            50% { 
                box-shadow: 
                    0 0 0 15px #ff0000,
                    0 0 50px rgba(255, 0, 0, 0.9),
                    inset 0 0 50px rgba(0, 0, 0, 0.9);
            }
        }
        
        .spinning {
            animation: glow 0.8s infinite alternate;
        }
        
        @keyframes numberAppear {
            0% {
                transform: scale(0.3) rotate(-10deg);
                opacity: 0;
            }
            70% {
                transform: scale(1.1) rotate(5deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }
        
        .number-appear {
            animation: numberAppear 0.6s ease-out forwards;
        }
        
        /* Warna angka di spinner (dark red theme) */
        .spinner-section:nth-child(odd) .spinner-section-content {
            background: linear-gradient(135deg, 
                rgba(139, 0, 0, 0.9) 0%,
                rgba(178, 34, 34, 0.9) 100%);
        }
        
        .spinner-section:nth-child(even) .spinner-section-content {
            background: linear-gradient(135deg, 
                rgba(165, 42, 42, 0.9) 0%,
                rgba(205, 92, 92, 0.9) 100%);
        }
        
        .spinner-section:nth-child(3n) .spinner-section-content {
            background: linear-gradient(135deg, 
                rgba(128, 0, 0, 0.9) 0%,
                rgba(160, 0, 0, 0.9) 100%);
        }
        
        .spinner-section:nth-child(5n) .spinner-section-content {
            background: linear-gradient(135deg, 
                rgba(220, 20, 60, 0.9) 0%,
                rgba(255, 99, 71, 0.9) 100%);
        }
        
        /* Gaya untuk sentuhan/mobile */
        .touch-hint {
            position: absolute;
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff9999;
            font-size: 1.1rem;
            background: rgba(139, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid #8b0000;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .touch-hint i {
            color: #ff6666;
            font-size: 1.3rem;
        }
        
        /* Scrollbar styling */
        .result-prompt::-webkit-scrollbar {
            width: 8px;
        }
        
        .result-prompt::-webkit-scrollbar-track {
            background: #1a0000;
            border-radius: 4px;
        }
        
        .result-prompt::-webkit-scrollbar-thumb {
            background: #8b0000;
            border-radius: 4px;
        }
        
        .result-prompt::-webkit-scrollbar-thumb:hover {
            background: #ff0000;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .spinner-container {
                width: 320px;
                height: 320px;
            }
            
            .pointer-line {
                height: 320px;
            }
            
            .spinner {
                width: 320px;
                height: 320px;
            }
            
            .result-number {
                font-size: 5rem;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .spinner-container {
                width: 280px;
                height: 280px;
            }
            
            .pointer-line {
                height: 280px;
            }
            
            .spinner {
                width: 280px;
                height: 280px;
            }
            
            .result-number {
                font-size: 4rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .spinner-section-content {
                font-size: 18px;
                padding-left: 30px;
                padding-bottom: 30px;
            }
        }
        
        /* Floating blood cells */
        .floating-cell {
            position: absolute;
            border-radius: 50%;
            opacity: 0.15;
            z-index: 1;
            background: radial-gradient(circle, #ff0000, #8b0000);
            filter: blur(5px);
        }
        
        .cell-1 {
            width: 100px;
            height: 100px;
            top: 10%;
            left: 5%;
            animation: floatCell 25s infinite ease-in-out;
        }
        
        .cell-2 {
            width: 150px;
            height: 150px;
            bottom: 15%;
            right: 8%;
            animation: floatCell 30s infinite ease-in-out reverse;
        }
        
        .cell-3 {
            width: 80px;
            height: 80px;
            top: 60%;
            left: 10%;
            animation: floatCell 20s infinite ease-in-out;
        }
        
        .cell-4 {
            width: 120px;
            height: 120px;
            bottom: 30%;
            left: 80%;
            animation: floatCell 35s infinite ease-in-out;
        }
        
        @keyframes floatCell {
            0%, 100% {
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% {
                transform: translateY(-50px) rotate(180deg) scale(1.1);
            }
        }
        
        /* Highlight untuk angka yang terpilih */
        .selected-section {
            filter: brightness(1.5) drop-shadow(0 0 15px rgba(255, 255, 255, 0.7));
            transition: filter 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Floating blood cells -->
    <div class="floating-cell cell-1"></div>
    <div class="floating-cell cell-2"></div>
    <div class="floating-cell cell-3"></div>
    <div class="floating-cell cell-4"></div>
    
    <div class="container">
        <header>
            <h1>DARK RED SPINNER</h1>
            <p class="subtitle">Sentuh dan putar spinner. Angka yang berhenti tepat di jarum atas akan terpilih.</p>
            <p class="subtitle">TIDAK ADA OPSI ACAK - HANYA JARUM YANG MEMILIH</p>
        </header>
        
        <div class="spinner-container">
            <!-- Garis pointer vertikal -->
            <div class="pointer-line"></div>
            
            <!-- Pointer tetap di atas -->
            <div class="pointer-container">
                <div class="pointer"></div>
            </div>
            
            <!-- Spinner -->
            <div class="spinner" id="spinner">
                <!-- Angka 1-20 akan dibuat oleh JavaScript -->
            </div>
            
            <!-- Titik tengah spinner -->
            <div class="spinner-center"></div>
            
            <!-- Petunjuk sentuhan -->
            <div class="touch-hint">
                <i class="fas fa-hand-point-up"></i>
                SENTUH & PUTAR
            </div>
        </div>
        
        <div class="result-container">
            <div class="result-label">ANGKA YANG DIPILIH JARUM:</div>
            <div class="result-number" id="result-number">-</div>
            
            <div class="result-label">PROMPT CERITA:</div>
            <div class="result-prompt">
                <div class="prompt-text" id="prompt-text">Putar spinner untuk mendapatkan angka dan prompt unik</div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>PERHATIAN PENTING:</h3>
            <p>1. HANYA angka yang berhenti TEPAT di JARUM ATAS yang akan terpilih<br>
               2. Sentuh dan putar spinner dengan jari (atau mouse di desktop)<br>
               3. Angka akan ditampilkan setelah spinner berhenti sepenuhnya<br>
               4. Setiap angka memiliki prompt cerita yang berbeda (maks 400 karakter)<br>
               5. Spinner berputar berdasarkan sentuhan - tidak ada tombol atau opsi acak</p>
        </div>
    </div>

    <script>
        // Prompt untuk setiap angka (1-20)
        const prompts = [
            "Seorang ilmuwan menemukan cara berkomunikasi dengan tanaman yang memperingatkan ancaman global. Haruskah dia mempercayai mereka dan mengambil tindakan?",
            "Di dunia di mana setiap orang memiliki jam kematian di pergelangan tangan, seseorang menemukan jam mereka berhenti. Apakah ini keabadian atau kesalahan?",
            "Karakter utama bermimpi kehidupan berbeda setiap malam, lalu bertemu orang dari mimpi itu di dunia nyata. Apakah mimpi itu dunia paralel?",
            "Kota kecil terperangkap dalam pengulangan hari yang sama. Hanya satu orang yang sadar dan harus memecahkan siklus waktu ini.",
            "Setelah kecelakaan, seseorang bisa melihat 'jejak emosi' di tempat-tempat. Kemampuan ini membantu memecahkan misteri tetapi membebani emosinya.",
            "Di masa depan, kenangan bisa dibeli dan dijual. Seorang penyelundup menemukan kenangan terlarang yang bisa mengubah masyarakat selamanya.",
            "Karakter dalam buku mulai muncul di dunia nyata. Awalnya menyenangkan sampai antagonisnya juga muncul dan mengancam kehidupan.",
            "Setiap orang punya binatang roh. Karakter utama adalah satu-satunya dengan dua binatang roh yang bertentangan, mencerminkan konflik batinnya.",
            "Teknologi baru memungkinkan orang mengunjungi kenangan orang lain. Seorang penyidik menggunakannya untuk memecahkan kejahatan dengan masuk ke kenangan korban.",
            "Di dunia tanpa perang, semua konflik diselesaikan lewat permainan kompetitif. Sang juara tak terkalahkan mulai mempertanyakan moralitas sistem ini.",
            "Setiap kali tidur, karakter utama bangun di tubuh orang berbeda. Mereka harus selesaikan misi sebelum tertidur lagi atau terjebak selamanya.",
            "Portal ke dunia fantasi terbuka di tengah kota. Seorang polisi biasa harus menjaga ketertiban saat makhluk ajaib memasuki dunia kita.",
            "Orang-orang dapat kekuatan super berdasarkan kepribadian. Karakter utama dapat kekuatan yang tampak tidak berguna sampai dia temukan aplikasi mengejutkan.",
            "Sejarah ternyata program komputer yang sedang di-debug. Karakter utama adalah bug yang sadar eksistensinya dan harus hindari 'debugger'.",
            "Setiap kata yang diucapkan muncul sebagai simbol di udara. Karakter utama menemukan dia bisa membaca simbol semua orang dengan makna berbeda.",
            "Waktu berjalan lebih cepat di beberapa wilayah Bumi. Seseorang tinggal di perbatasan zona waktu normal dan cepat, mengalami dua realitas sekaligus.",
            "Emosi manusia bisa dikristalisasi jadi benda fisik dengan kekuatan magis. Seorang kolektor tidak sengaja temukan kristal berisi emosi terlarang.",
            "Setiap bulan purnama, semua orang berubah jadi versi ideal diri mereka. Satu orang tidak berubah, menyadari dia sudah jadi versi idealnya.",
            "Buku di perpustakaan tertentu bisa bawa pembaca masuk ke dunia dalam cerita. Seorang pustakawan harus selamatkan orang yang terjebak dalam buku.",
            "Suara batin semua orang tiba-tiba bisa didengar orang lain. Masyarakat kacau saat orang berjuang bedakan antara pikiran pribadi dan ucapan publik."
        ];
        
        // DOM Elements
        const spinner = document.getElementById('spinner');
        const resultNumber = document.getElementById('result-number');
        const promptText = document.getElementById('prompt-text');
        
        // Variables
        let isSpinning = false;
        let currentRotation = 0;
        let currentVelocity = 0;
        let selectedNumber = 0;
        let lastTimestamp = 0;
        let isDragging = false;
        let dragStartAngle = 0;
        let spinnerStartAngle = 0;
        
        // Initialize spinner dengan angka 1-20
        function initSpinner() {
            spinner.innerHTML = '';
            
            const totalNumbers = 20;
            const anglePerSection = 360 / totalNumbers;
            
            for (let i = 0; i < totalNumbers; i++) {
                const section = document.createElement('div');
                section.className = 'spinner-section';
                section.style.transform = `rotate(${i * anglePerSection}deg)`;
                
                const content = document.createElement('div');
                content.className = 'spinner-section-content';
                content.textContent = i + 1; // Angka 1-20
                
                section.appendChild(content);
                spinner.appendChild(section);
            }
            
            // Setup event listeners untuk sentuhan/geser
            setupTouchEvents();
            
            // Setup animasi berputar
            requestAnimationFrame(animateSpinner);
        }
        
        // Setup event listeners untuk sentuhan dan mouse
        function setupTouchEvents() {
            // Untuk mouse (desktop)
            spinner.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);
            
            // Untuk sentuhan (mobile)
            spinner.addEventListener('touchstart', startDrag);
            document.addEventListener('touchmove', drag);
            document.addEventListener('touchend', endDrag);
            
            // Mencegah context menu
            spinner.addEventListener('contextmenu', (e) => e.preventDefault());
        }
        
        // Mulai drag/geser
        function startDrag(e) {
            e.preventDefault();
            isDragging = true;
            spinner.classList.remove('spinning');
            
            const rect = spinner.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            let clientX, clientY;
            
            if (e.type === 'touchstart') {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            // Hitung sudut awal
            const angle = Math.atan2(clientY - centerY, clientX - centerX) * 180 / Math.PI;
            dragStartAngle = angle;
            spinnerStartAngle = currentRotation;
            
            // Reset velocity
            currentVelocity = 0;
        }
        
        // Saat drag/geser
        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            
            const rect = spinner.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            let clientX, clientY;
            
            if (e.type === 'touchmove') {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            // Hitung sudut saat ini
            const angle = Math.atan2(clientY - centerY, clientX - centerX) * 180 / Math.PI;
            
            // Hitung perubahan sudut
            let deltaAngle = angle - dragStartAngle;
            
            // Handle crossing the 180/-180 boundary
            if (deltaAngle > 180) deltaAngle -= 360;
            if (deltaAngle < -180) deltaAngle += 360;
            
            // Update rotation
            currentRotation = spinnerStartAngle + deltaAngle;
            
            // Update velocity untuk momentum
            const now = Date.now();
            const timeDelta = now - lastTimestamp;
            if (timeDelta > 0) {
                currentVelocity = deltaAngle / timeDelta * 16; // Normalize
            }
            lastTimestamp = now;
            
            // Apply rotation
            spinner.style.transform = `rotate(${currentRotation}deg)`;
            spinner.style.transition = 'none';
        }
        
        // Akhiri drag/geser
        function endDrag(e) {
            if (!isDragging) return;
            e.preventDefault();
            
            isDragging = false;
            
            // Apply momentum based on velocity
            if (Math.abs(currentVelocity) > 0.1) {
                // Add spinning animation class
                spinner.classList.add('spinning');
                
                // Apply momentum
                const momentum = currentVelocity * 30; // Multiply for more spin
                let targetRotation = currentRotation + momentum;
                
                // Normalize rotation
                targetRotation = targetRotation % 360;
                if (targetRotation < 0) targetRotation += 360;
                
                // Animate with easing
                spinner.style.transition = `transform ${2 + Math.abs(momentum)/200}s cubic-bezier(0.17, 0.67, 0.21, 0.99)`;
                spinner.style.transform = `rotate(${targetRotation}deg)`;
                
                // Update current rotation
                currentRotation = targetRotation;
                
                // Tunggu spinner berhenti, lalu hitung angka yang terpilih
                setTimeout(() => {
                    spinner.classList.remove('spinning');
                    calculateSelectedNumber();
                }, 2000 + Math.abs(momentum)/10);
            } else {
                // Jika tidak ada momentum, hitung langsung
                calculateSelectedNumber();
            }
        }
        
        // Hitung angka yang terpilih oleh jarum
        function calculateSelectedNumber() {
            // Normalisasi rotasi ke 0-360 derajat
            let normalizedRotation = currentRotation % 360;
            if (normalizedRotation < 0) normalizedRotation += 360;
            
            // JARUM DI ATAS (0 derajat) - hitung angka yang tepat di jarum
            // Karena spinner berputar, kita perlu menghitung sebaliknya
            // Angka di posisi 0 derajat adalah angka yang terpilih
            
            // Hitung offset (karena angka dimulai dari posisi tertentu)
            const anglePerSection = 360 / 20; // 18 derajat per angka
            
            // Hitung angka yang ada di posisi 0 derajat (jarum)
            // Rumus: angka = Math.floor((360 - normalizedRotation) / anglePerSection) + 1
            // Tapi disesuaikan karena posisi awal angka
            let selectedIndex = Math.floor((360 - normalizedRotation + anglePerSection/2) / anglePerSection) % 20;
            selectedIndex = (selectedIndex + 20) % 20; // Pastikan positif
            
            selectedNumber = selectedIndex + 1; // Konversi ke 1-20
            
            // Tampilkan hasil
            displayResult();
            
            // Highlight angka yang terpilih di spinner
            highlightSelectedNumber(selectedIndex);
        }
        
        // Highlight angka yang terpilih di spinner
        function highlightSelectedNumber(index) {
            // Hapus highlight sebelumnya
            const sections = document.querySelectorAll('.spinner-section');
            sections.forEach(section => {
                section.classList.remove('selected-section');
            });
            
            // Tambah highlight untuk section yang terpilih
            if (sections[index]) {
                sections[index].classList.add('selected-section');
            }
        }
        
        // Tampilkan hasil
        function displayResult() {
            // Update angka
            resultNumber.textContent = selectedNumber;
            resultNumber.classList.add('number-appear');
            
            // Update prompt
            promptText.textContent = prompts[selectedNumber - 1];
            
            // Hilangkan animasi setelah selesai
            setTimeout(() => {
                resultNumber.classList.remove('number-appear');
            }, 600);
        }
        
        // Animasi spinner (untuk momentum)
        function animateSpinner(timestamp) {
            if (!isDragging && Math.abs(currentVelocity) > 0.01) {
                // Terapkan friction
                currentVelocity *= 0.97;
                
                // Update rotation
                currentRotation += currentVelocity;
                
                // Normalize
                currentRotation = currentRotation % 360;
                
                // Apply
                spinner.style.transform = `rotate(${currentRotation}deg)`;
                spinner.style.transition = 'none';
                
                // Jika kecepatan sangat rendah, berhenti dan hitung angka
                if (Math.abs(currentVelocity) < 0.1) {
                    currentVelocity = 0;
                    spinner.classList.remove('spinning');
                    calculateSelectedNumber();
                }
            }
            
            requestAnimationFrame(animateSpinner);
        }
        
        // Initialize saat halaman dimuat
        window.addEventListener('DOMContentLoaded', () => {
            initSpinner();
            
            // Tambah audio feedback (opsional)
            spinner.addEventListener('mousedown', () => {
                playSound('start');
            });
            
            spinner.addEventListener('mouseup', () => {
                if (currentVelocity > 1) {
                    playSound('spin');
                }
            });
        });
        
        // Fungsi untuk suara (simulasi)
        function playSound(type) {
            // Ini hanya simulasi - di implementasi nyata bisa gunakan Web Audio API
            if (type === 'start') {
                // Suara klik awal
            } else if (type === 'spin') {
                // Suara putaran
            }
        }
        
        // Keyboard shortcuts untuk testing (hanya di development)
        document.addEventListener('keydown', (e) => {
            // Hanya untuk testing - bukan bagian dari fungsionalitas utama
            if (e.code === 'Space') {
                // Simulasi putaran cepat untuk testing
                currentVelocity = 15 + Math.random() * 10;
                spinner.classList.add('spinning');
            }
            
            // Reset spinner
            if (e.code === 'Escape') {
                currentRotation = 0;
                currentVelocity = 0;
                spinner.style.transform = `rotate(0deg)`;
                spinner.style.transition = 'transform 1s ease-out';
                resultNumber.textContent = '-';
                promptText.textContent = 'Putar spinner untuk mendapatkan angka dan prompt unik';
                
                // Hapus highlight
                const sections = document.querySelectorAll('.spinner-section');
                sections.forEach(section => {
                    section.classList.remove('selected-section');
                });
            }
        });
    </script>
</body>
</html>
