<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHOOSE-PROMPT Spinner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        body {
            background: linear-gradient(135deg, #0a0000 0%, #1a0000 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            color: white;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            color: #ff0000;
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 25px rgba(255, 0, 0, 0.8);
            letter-spacing: 3px;
            background: linear-gradient(to right, #ffcccc, #ff6666, #ff0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #ff9999;
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .main-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
        }
        
        @media (min-width: 1024px) {
            .main-content {
                flex-direction: row;
                justify-content: center;
                align-items: flex-start;
            }
        }
        
        /* WHEEL CONTAINER - SAMA SEPERTI WHEELOFNAMES */
        .wheel-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            max-width: 600px;
        }
        
        .wheel-wrapper {
            position: relative;
            width: 500px;
            height: 500px;
            margin-bottom: 20px;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 0 15px #5a0000,
                0 0 40px rgba(139, 0, 0, 0.8),
                inset 0 0 60px rgba(0, 0, 0, 0.9);
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.21, 0.99);
            background: #150000;
            border: 12px solid #8b0000;
            cursor: pointer;
        }
        
        .wheel-center {
            position: absolute;
            width: 60px;
            height: 60px;
            background: #ff0000;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            box-shadow: 
                0 0 25px rgba(255, 0, 0, 0.9),
                inset 0 0 10px rgba(255, 255, 255, 0.4);
            border: 6px solid white;
        }
        
        /* POINTER SAMA SEPERTI WHEELOFNAMES */
        .wheel-pointer {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid #ff0000;
            z-index: 40;
            filter: drop-shadow(0 0 8px rgba(255, 0, 0, 0.9));
        }
        
        .wheel-pointer::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: #ff0000;
            border-radius: 50%;
            top: -52px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 12px rgba(255, 0, 0, 0.9);
        }
        
        /* WHEEL SECTIONS - DARK RED THEME */
        .wheel-section {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            overflow: hidden;
            clip-path: polygon(0 0, 100% 0, 100% 100%);
        }
        
        .wheel-section-content {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(45deg);
            font-weight: 700;
            color: white;
            padding-left: 40px;
            padding-bottom: 40px;
            font-size: 20px;
            text-shadow: 
                2px 2px 3px rgba(0, 0, 0, 0.9),
                0 0 8px rgba(255, 255, 255, 0.4);
            letter-spacing: 0.5px;
            text-align: center;
            overflow: hidden;
        }
        
        /* Warna section dalam tema dark red */
        .wheel-section:nth-child(odd) .wheel-section-content {
            background: linear-gradient(135deg, 
                rgba(139, 0, 0, 0.95) 0%,
                rgba(178, 34, 34, 0.95) 100%);
        }
        
        .wheel-section:nth-child(even) .wheel-section-content {
            background: linear-gradient(135deg, 
                rgba(165, 42, 42, 0.95) 0%,
                rgba(205, 92, 92, 0.95) 100%);
        }
        
        .wheel-section:nth-child(3n) .wheel-section-content {
            background: linear-gradient(135deg, 
                rgba(128, 0, 0, 0.95) 0%,
                rgba(160, 0, 0, 0.95) 100%);
        }
        
        .wheel-section:nth-child(5n) .wheel-section-content {
            background: linear-gradient(135deg, 
                rgba(220, 20, 60, 0.95) 0%,
                rgba(255, 99, 71, 0.95) 100%);
        }
        
        /* RESULT DISPLAY - SEDERHANA */
        .result-display {
            background: linear-gradient(145deg, #2a0000, #1a0000);
            border-radius: 15px;
            padding: 25px;
            width: 90%;
            max-width: 550px;
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.7),
                inset 0 0 25px rgba(139, 0, 0, 0.3);
            border: 3px solid #8b0000;
            text-align: center;
        }
        
        .result-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(to right, 
                #ff0000, #ff6666, #ff0000);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
        }
        
        .result-label {
            color: #ffcccc;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .result-text {
            color: #ff0000;
            font-size: 1.8rem;
            font-weight: 700;
            text-shadow: 0 0 12px rgba(255, 0, 0, 0.7);
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            word-break: break-word;
            line-height: 1.5;
        }
        
        /* CONTROL PANEL - HANYA TOMBOL */
        .control-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            max-width: 300px;
        }
        
        .spin-btn {
            background: linear-gradient(to right, #8b0000, #b22222);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(139, 0, 0, 0.4);
            font-weight: 600;
            letter-spacing: 1px;
            border: 3px solid #ff3333;
            width: 100%;
            max-width: 250px;
        }
        
        .spin-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(139, 0, 0, 0.6);
            background: linear-gradient(to right, #b22222, #8b0000);
        }
        
        .spin-btn:active {
            transform: translateY(-2px);
        }
        
        .spin-btn:disabled {
            background: linear-gradient(to right, #555, #333);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            border-color: #666;
        }
        
        .instructions {
            color: #ff9999;
            font-size: 1rem;
            text-align: center;
            line-height: 1.6;
            padding: 15px;
            background: rgba(42, 0, 0, 0.5);
            border-radius: 10px;
            border: 1px solid #8b0000;
        }
        
        /* ANIMATIONS */
        @keyframes wheelSpin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(var(--final-rotation));
            }
        }
        
        .spinning {
            animation: wheelSpin 4s cubic-bezier(0.17, 0.67, 0.21, 0.99) forwards;
        }
        
        @keyframes resultPop {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .result-pop {
            animation: resultPop 0.5s ease-out forwards;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .wheel-wrapper {
                width: 350px;
                height: 350px;
            }
            
            .wheel-section-content {
                font-size: 16px;
                padding-left: 30px;
                padding-bottom: 30px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .result-text {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .wheel-wrapper {
                width: 300px;
                height: 300px;
            }
            
            .wheel-section-content {
                font-size: 14px;
                padding-left: 25px;
                padding-bottom: 25px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .result-text {
                font-size: 1.3rem;
            }
        }
        
        /* BACKGROUND EFFECTS */
        .blood-effect {
            position: fixed;
            border-radius: 50%;
            opacity: 0.1;
            z-index: -1;
            background: radial-gradient(circle, #ff0000, #8b0000);
            filter: blur(20px);
        }
        
        .blood-1 {
            width: 200px;
            height: 200px;
            top: 10%;
            left: 5%;
            animation: floatEffect 25s infinite ease-in-out;
        }
        
        .blood-2 {
            width: 300px;
            height: 300px;
            bottom: 10%;
            right: 5%;
            animation: floatEffect 30s infinite ease-in-out reverse;
        }
        
        @keyframes floatEffect {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(30px, -40px) rotate(120deg);
            }
            66% {
                transform: translate(-20px, 20px) rotate(240deg);
            }
        }
        
        /* PROMOT INFO */
        .prompt-info {
            color: #ff6666;
            font-size: 1rem;
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Background effects -->
    <div class="blood-effect blood-1"></div>
    <div class="blood-effect blood-2"></div>
    
    <div class="container">
        <header>
            <h1>CHOOSE-PROMPT</h1>
            <p class="subtitle">Spinner dengan sistem kerja sama persis seperti Wheel of Names. 20 prompt tetap dalam bahasa Indonesia.</p>
            <p class="prompt-info">Terdapat 20 prompt cerita tetap yang tidak dapat diubah</p>
        </header>
        
        <div class="main-content">
            <!-- WHEEL SECTION -->
            <div class="wheel-container">
                <div class="wheel-wrapper">
                    <div class="wheel-pointer"></div>
                    <div class="wheel" id="wheel">
                        <!-- Wheel sections akan dibuat oleh JavaScript -->
                    </div>
                    <div class="wheel-center"></div>
                </div>
                
                <div class="result-display">
                    <div class="result-label">PROMPT TERPILIH:</div>
                    <div class="result-text" id="result-text">Klik tombol SPIN atau klik langsung roda untuk mulai</div>
                </div>
            </div>
            
            <!-- CONTROL PANEL -->
            <div class="control-panel">
                <button class="spin-btn" id="spin-btn">
                    <i class="fas fa-redo-alt"></i> SPIN
                </button>
                
                <div class="instructions">
                    <p><strong>Cara penggunaan:</strong></p>
                    <p>1. Klik tombol SPIN atau klik langsung roda</p>
                    <p>2. Tunggu sampai roda berhenti berputar</p>
                    <p>3. Prompt yang terpilih akan ditampilkan</p>
                    <p>4. Gunakan prompt untuk inspirasi cerita</p>
                    <p style="margin-top: 10px; color: #ffcccc; font-size: 0.9rem;">
                        <i>Menggunakan sistem acak kriptografi seperti Wheel of Names</i>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 20 PROMPT TETAP DALAM BAHASA INDONESIA
        const PROMPTS = [
            "Seorang ilmuwan menemukan cara berkomunikasi dengan tanaman yang memperingatkan ancaman global. Haruskah dia mempercayai mereka dan mengambil tindakan?",
            "Di dunia di mana setiap orang memiliki jam kematian di pergelangan tangan, seseorang menemukan jam mereka berhenti. Apakah ini keabadian atau kesalahan?",
            "Karakter utama bermimpi kehidupan berbeda setiap malam, lalu bertemu orang dari mimpi itu di dunia nyata. Apakah mimpi itu dunia paralel?",
            "Kota kecil terperangkap dalam pengulangan hari yang sama. Hanya satu orang yang sadar dan harus memecahkan siklus waktu ini.",
            "Setelah kecelakaan, seseorang bisa melihat 'jejak emosi' di tempat-tempat. Kemampuan ini membantu memecahkan misteri tetapi membebani emosinya.",
            "Di masa depan, kenangan bisa dibeli dan dijual. Seorang penyelundup menemukan kenangan terlarang yang bisa mengubah masyarakat selamanya.",
            "Karakter dalam buku mulai muncul di dunia nyata. Awalnya menyenangkan sampai antagonisnya juga muncul dan mengancam kehidupan.",
            "Setiap orang punya binatang roh. Karakter utama adalah satu-satunya dengan dua binatang roh yang bertentangan, mencerminkan konflik batinnya.",
            "Teknologi baru memungkinkan orang mengunjungi kenangan orang lain. Seorang penyidik menggunakannya untuk memecahkan kejahatan dengan masuk ke kenangan korban.",
            "Di dunia tanpa perang, semua konflik diselesaikan lewat permainan kompetitif. Sang juara tak terkalahkan mulai mempertanyakan moralitas sistem ini.",
            "Setiap kali tidur, karakter utama bangun di tubuh orang berbeda. Mereka harus selesaikan misi sebelum tertidur lagi atau terjebak selamanya.",
            "Portal ke dunia fantasi terbuka di tengah kota. Seorang polisi biasa harus menjaga ketertiban saat makhluk ajaib memasuki dunia kita.",
            "Orang-orang dapat kekuatan super berdasarkan kepribadian mereka. Karakter utama dapat kekuatan yang tampak tidak berguna sampai dia temukan aplikasi yang mengejutkan.",
            "Sejarah ternyata adalah program komputer yang sedang di-debug. Karakter utama adalah bug yang sadar eksistensinya dan harus hindari 'debugger'.",
            "Setiap kata yang diucapkan muncul sebagai simbol di udara. Karakter utama menemukan dia bisa membaca simbol semua orang dengan makna berbeda.",
            "Waktu berjalan lebih cepat di beberapa wilayah Bumi. Seseorang tinggal di perbatasan zona waktu normal dan cepat, mengalami dua realitas sekaligus.",
            "Emosi manusia bisa dikristalisasi menjadi benda fisik dengan kekuatan magis. Seorang kolektor tidak sengaja temukan kristal berisi emosi terlarang.",
            "Setiap bulan purnama, semua orang berubah jadi versi ideal diri mereka. Satu orang tidak berubah, menyadari dia sudah jadi versi idealnya.",
            "Buku di perpustakaan tertentu bisa bawa pembaca masuk ke dunia dalam cerita. Seorang pustakawan harus selamatkan orang yang terjebak dalam buku.",
            "Suara batin semua orang tiba-tiba bisa didengar orang lain. Masyarakat kacau saat orang berjuang bedakan antara pikiran pribadi dan ucapan publik."
        ];
        
        // DOM Elements
        const wheel = document.getElementById('wheel');
        const spinBtn = document.getElementById('spin-btn');
        const resultText = document.getElementById('result-text');
        
        // State variables
        let isSpinning = false;
        let currentRotation = 0;
        
        // Initialize wheel dengan 20 prompt tetap
        function initializeWheel() {
            wheel.innerHTML = '';
            
            const totalSections = PROMPTS.length;
            const anglePerSection = 360 / totalSections;
            
            for (let i = 0; i < totalSections; i++) {
                const section = document.createElement('div');
                section.className = 'wheel-section';
                section.style.transform = `rotate(${i * anglePerSection}deg)`;
                
                const content = document.createElement('div');
                content.className = 'wheel-section-content';
                content.textContent = `${i + 1}`; // Tampilkan angka saja
                content.title = PROMPTS[i]; // Tooltip dengan prompt lengkap
                
                section.appendChild(content);
                wheel.appendChild(section);
            }
            
            // Setup event listeners
            setupEventListeners();
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Spin button
            spinBtn.addEventListener('click', spinWheel);
            
            // Wheel click juga bisa spin (seperti Wheel of Names)
            wheel.addEventListener('click', () => {
                if (!isSpinning) spinWheel();
            });
            
            // Keyboard shortcut (Space) seperti Wheel of Names
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && !isSpinning) {
                    e.preventDefault();
                    spinWheel();
                }
            });
        }
        
        // SISTEM SPIN SAMA PERSIS WHEELOFNAMES
        function spinWheel() {
            if (isSpinning) return;
            
            isSpinning = true;
            spinBtn.disabled = true;
            
            // 1. GUNAKAN CRYPTO.GETRANDOMVALUES() seperti Wheel of Names
            // Ini adalah fungsi kriptografi untuk keacakan yang sebenarnya
            const randomValues = new Uint32Array(3);
            crypto.getRandomValues(randomValues);
            
            // 2. TENTUKAN PEMENANG SECARA ACAK - setiap prompt peluang sama
            const baseRandom = randomValues[0] / 4294967295; // Normalize to 0-1
            const winnerIndex = Math.floor(baseRandom * PROMPTS.length);
            const winnerPrompt = PROMPTS[winnerIndex];
            
            // 3. HITUNG ROTASI dengan fisika realistis seperti Wheel of Names
            const extraRandom = randomValues[1] / 4294967295;
            const velocityRandom = randomValues[2] / 4294967295;
            
            const fullRotations = 5 + Math.floor(extraRandom * 3); // 5-7 putaran penuh
            const anglePerSection = 360 / PROMPTS.length;
            
            // Hitung posisi agar winner tepat di pointer (atas/0 derajat)
            const targetSectionAngle = winnerIndex * anglePerSection;
            const offsetFromPointer = 360 - targetSectionAngle;
            
            // Variasi natural untuk efek fisik yang realistis
            const naturalVariance = (velocityRandom - 0.5) * (anglePerSection * 0.2);
            const finalRotation = currentRotation + (360 * fullRotations) + offsetFromPointer + naturalVariance;
            
            // 4. ANIMASI PUTARAN dengan easing curve seperti Wheel of Names
            wheel.style.setProperty('--final-rotation', `${finalRotation}deg`);
            wheel.classList.remove('spinning');
            void wheel.offsetWidth; // Trigger reflow
            wheel.classList.add('spinning');
            
            // 5. UPDATE STATE
            currentRotation = finalRotation % 360;
            
            // 6. TAMPILKAN HASIL setelah putaran selesai
            setTimeout(() => {
                // Tampilkan hasil dengan animasi
                resultText.textContent = winnerPrompt;
                resultText.classList.remove('result-pop');
                void resultText.offsetWidth;
                resultText.classList.add('result-pop');
                
                // Reset state
                isSpinning = false;
                spinBtn.disabled = false;
                
                // Highlight section yang menang
                highlightWinnerSection(winnerIndex);
            }, 4000); // Sesuai durasi animasi CSS
        }
        
        // Highlight section pemenang
        function highlightWinnerSection(index) {
            // Reset semua highlight
            const sections = document.querySelectorAll('.wheel-section-content');
            sections.forEach(section => {
                section.style.filter = 'none';
            });
            
            // Highlight pemenang
            if (sections[index]) {
                sections[index].style.filter = 'brightness(1.4)';
                
                // Reset highlight setelah beberapa saat
                setTimeout(() => {
                    sections[index].style.filter = 'none';
                }, 3000);
            }
        }
        
        // Initialize saat halaman dimuat
        window.addEventListener('DOMContentLoaded', () => {
            initializeWheel();
            
            // Tambahkan FontAwesome untuk ikon
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
            document.head.appendChild(link);
        });
    </script>
</body>
</html>
