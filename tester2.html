<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KACHOO · Database Terpadu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #ffffff;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header - teks di tengah */
        header {
            text-align: center;
            padding: 30px 0 20px 0;
            border-bottom: 2px solid #000;
            margin-bottom: 40px;
        }
        
        .logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .logo img {
            height: 70px;
            width: auto;
            object-fit: contain;
        }
        
        .logo-text h1 {
            font-size: 36px;
            color: #000;
            letter-spacing: 2px;
            font-weight: 800;
        }
        
        .logo-text p {
            color: #444;
            font-size: 16px;
            font-weight: 500;
            margin-top: 4px;
        }
        
        /* Main Content */
        .dashboard-header {
            margin-bottom: 40px;
            text-align: left;
        }
        
        .dashboard-header h2 {
            font-size: 32px;
            color: #000;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .dashboard-header p {
            color: #666;
            max-width: 700px;
        }
        
        /* Department Grid - 3 Kartu */
        .departments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
            flex-grow: 1;
        }
        
        .department-card {
            background-color: #fff;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 2px solid #000;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #333;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            height: 100%;
        }
        
        .department-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            background-color: #000;
            color: #fff;
        }
        
        .department-card:hover h3,
        .department-card:hover p,
        .department-card:hover .department-link {
            color: #fff;
        }
        
        .department-card:hover .department-icon {
            background-color: #fff;
            color: #000;
        }
        
        .department-icon {
            width: 60px;
            height: 60px;
            background-color: #000;
            color: #fff;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .department-card h3 {
            font-size: 22px;
            color: #000;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .department-card p {
            color: #666;
            font-size: 15px;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .department-link {
            color: #000;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: auto;
        }
        
        /* Info Panel (libur) */
        .info-panel {
            background-color: #f9f9f9;
            border: 2px solid #000;
            border-radius: 16px;
            padding: 25px 30px;
            margin: 30px 0 30px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            box-shadow: 6px 6px 0 rgba(0,0,0,0.1);
        }
        
        .info-icon {
            background: #000;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }
        
        .info-text {
            flex: 1;
            min-width: 250px;
        }
        
        .info-text h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 6px;
            color: #000;
        }
        
        .info-text p {
            font-size: 17px;
            color: #222;
            font-weight: 500;
        }
        
        .info-dates {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            background: #fff;
            padding: 15px 25px;
            border-radius: 40px;
            border: 1px solid #000;
        }
        
        .date-item {
            display: flex;
            flex-direction: column;
        }
        
        .date-label {
            font-weight: 700;
            font-size: 15px;
            color: #000;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .date-value {
            font-size: 18px;
            font-weight: 600;
        }
        
        /* Footer */
        footer {
            margin-top: auto;
            padding-top: 20px;
            border-top: 2px solid #000;
            color: #666;
            font-size: 14px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .copyright {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .system-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            background-color: #000;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        /* --- MODAL LOGIN (POPUP) tanpa demo username --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(4px);
        }
        .modal-card {
            background: #fff;
            width: 90%;
            max-width: 400px;
            border: 3px solid #000;
            border-radius: 24px;
            padding: 30px 25px;
            box-shadow: 12px 12px 0 #000;
            position: relative;
        }
        .modal-card h2 {
            font-size: 28px;
            font-weight: 700;
            color: #000;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .modal-card h2 i {
            background: #000;
            color: white;
            padding: 10px;
            border-radius: 14px;
            font-size: 22px;
        }
        .modal-sub {
            color: #222;
            font-size: 15px;
            margin-bottom: 25px;
            border-left: 5px solid #000;
            padding-left: 15px;
            background: #f2f2f2;
            border-radius: 0 10px 10px 0;
            font-weight: 500;
        }
        .input-group {
            margin-bottom: 22px;
        }
        .input-group label {
            display: block;
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 6px;
            color: #000;
        }
        .input-group input {
            width: 100%;
            padding: 15px 18px;
            border: 2px solid #aaa;
            border-radius: 16px;
            font-size: 15px;
            background: #fafafa;
        }
        .input-group input:focus {
            border-color: #000;
            outline: none;
            background: #fff;
            box-shadow: 3px 3px 0 #000;
        }
        .login-actions {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }
        .btn-login {
            background: #000;
            border: none;
            color: white;
            font-weight: 700;
            padding: 15px 0;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            flex: 2;
            border: 2px solid #000;
            transition: 0.15s;
        }
        .btn-login:hover {
            background: #fff;
            color: #000;
        }
        .btn-cancel {
            background: #fff;
            border: 2px solid #000;
            color: #000;
            font-weight: 600;
            padding: 15px 0;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            flex: 1;
        }
        .btn-cancel:hover {
            background: #eee;
        }
        .error-message {
            color: #b11;
            font-weight: 600;
            font-size: 14px;
            margin-top: 15px;
            background: #ffe3e3;
            padding: 10px 14px;
            border-radius: 40px;
            border: 1px solid #b11;
            text-align: center;
        }
        .close-icon {
            position: absolute;
            top: 18px; right: 18px;
            font-size: 22px;
            cursor: pointer;
            background: #fff;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 2px solid #000;
        }
        .close-icon:hover {
            background: #000;
            color: white;
        }

        /* Tidak ada lagi .demo-hint (sesuai instruksi) */

        @media (max-width: 768px) {
            .info-panel {
                flex-direction: column;
                align-items: flex-start;
                padding: 20px;
            }
            .info-dates {
                width: 100%;
                justify-content: space-between;
            }
            .footer-content {
                flex-direction: column;
                align-items: flex-start;
            }
            .logo-text h1 {
                font-size: 30px;
            }
        }
        @media (max-width: 480px) {
            .info-dates {
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header - tengah & tanpa Admin Dashboard -->
        <header>
            <div class="logo">
                <img src="logo-thekachoo.png" alt="KACHOO Logo" id="logoKachoo">
                <div class="logo-text">
                    <h1>KACHOO</h1>
                    <p>database system</p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <div class="dashboard-header">
                <h2>Departemen Perusahaan</h2>
                <p>Akses database masing-masing departemen dengan mengklik kartu di bawah ini. Sistem terintegrasi untuk manajemen data KACHOO.</p>
            </div>

            <!-- Department Cards - CORE, KAZINE, KABOOM -->
            <div class="departments">
                <!-- CORE → khusus Gathur & Ningrum -->
                <div class="department-card" data-dept="core">
                    <div class="department-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>CORE</h3>
                    <p>Tim inti pengembang teknologi dasar, sistem, dan infrastruktur perusahaan. Akses khusus untuk eksekutif.</p>
                    <div class="department-link">
                        <span>Buka Dashboard</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>

                <!-- KAZINE → khusus Vivi, Rafi, Claudia -->
                <div class="department-card" data-dept="kazine">
                    <div class="department-icon">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <h3>KAZINE</h3>
                    <p>Tim media dan publikasi. Mengelola konten, majalah digital, dan komunikasi perusahaan.</p>
                    <div class="department-link">
                        <span>Buka Dashboard</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>

                <!-- KABOOM (bisa semua, tapi disesuaikan dengan peruntukkan Vivi,Rafi,Claudia di atas? 
                     sesuai soal "Kazine yang bisa masuk Vivi, Rafi, Claudia" maka kaboom tidak dipakai? 
                     tapi soal lama menyebut Rafi & Claudia ke v1.zine1/2. Kita ikuti aturan terbaru: 
                     Kazine untuk Vivi,Rafi,Claudia. Namun Rafi & Claudia tujuan ke .zine1 & .zine2, Vivi ke v1pr.cho.html.
                     Kita terapkan di login: Kazine terima Vivi,Rafi,Claudia. Core terima Gathur,Ningrum.
                     Kaboom tetap ada sebagai departemen, tetapi loginnya ditolak (tidak ada user) atau bisa diisi kemudian.
                     Sesuai permintaan: "kalau klik core, itu cuma untuk executive, jadi yang bisa masuk cuma Gathur dan Ningrum. 
                     klik Kazine yang bisa masuk Vivi, Rafi, dan Claudia." Maka Kaboom tidak disebut, kita buat tidak bisa diakses (tidak ada user untuk kaboom).
                -->
                <div class="department-card" data-dept="kaboom">
                    <div class="department-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>KABOOM</h3>
                    <p>Tim kreatif & inovasi. Mengembangkan kampanye dan proyek eksperimental.</p>
                    <div class="department-link">
                        <span>Buka Dashboard</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </div>

            <!-- Info Panel Libur (Imlek, Ramadhan, Lebaran) sesuai tanggal -->
            <div class="info-panel">
                <div class="info-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="info-text">
                    <h3>Informasi Hari Libur & Cuti Bersama 2026</h3>
                    <p>Perhatikan jadwal operasional selama libur nasional</p>
                </div>
                <div class="info-dates">
                    <div class="date-item">
                        <span class="date-label">Imlek & Ramadhan</span>
                        <span class="date-value">18 Feb - 22 Feb</span>
                    </div>
                    <div class="date-item">
                        <span class="date-label">Libur Lebaran</span>
                        <span class="date-value">18 Mar - 24 Mar</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="copyright">
                    <i class="far fa-copyright"></i>
                    <span>2026 KACHOO Database System.</span>
                </div>
                <div class="system-info">
                    <div class="status-indicator"></div>
                    <span>Sistem Aktif — Terakhir diperbarui: 12:30 PM</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal Login (popup) - tanpa petunjuk username -->
    <div id="loginModal" class="modal-overlay" style="display: none;">
        <div class="modal-card">
            <div class="close-icon" id="closeModalBtn"><i class="fas fa-times"></i></div>
            <h2><i class="fas fa-lock"></i> Akses Departemen</h2>
            <div class="modal-sub" id="deptDisplay">Masukkan kredensial</div>
            
            <div class="input-group">
                <label><i class="fas fa-user" style="margin-right: 8px;"></i>Username</label>
                <input type="text" id="loginUsername" placeholder="username" autocomplete="off">
            </div>
            <div class="input-group">
                <label><i class="fas fa-key" style="margin-right: 8px;"></i>Password</label>
                <input type="password" id="loginPassword" placeholder="password">
            </div>

            <div class="login-actions">
                <button class="btn-login" id="loginBtn"><i class="fas fa-sign-in-alt" style="margin-right: 8px;"></i> Masuk</button>
                <button class="btn-cancel" id="cancelBtn">Batal</button>
            </div>

            <div id="loginError" class="error-message" style="display: none;"></div>
            <!-- TIDAK ADA DEMO HINT / CONTOH USERNAME sesuai instruksi -->
        </div>
    </div>

    <script>
        (function() {
            // ================= KREDENSIAL + REDIRECT ==================
            // CORE hanya: Gathur & Ningrum
            // KAZINE hanya: Vivi, Rafi, Claudia
            // KABOOM: tidak ada user (akan selalu gagal, opsional bisa ditambah kemudian)
            
            const userDB = [
                // CORE
                { username: "Gathur", password: "gath61", redirect: "v1execho.html", allowedDept: "core" },
                { username: "Ningrum", password: "masukdulu123", redirect: "v1financho.html", allowedDept: "core" },
                // KAZINE
                { username: "Vivi", password: "masukdulu123", redirect: "v1pr.cho.html", allowedDept: "kazine" },
                { username: "Rafi", password: "masukdulu123", redirect: "v1.zine1.html", allowedDept: "kazine" },
                { username: "Claudia", password: "masukdulu123", redirect: "v1.zine2.html", allowedDept: "kazine" }
                // Kaboom tidak memiliki user (bisa ditambahkan nanti jika diperlukan)
            ];

            // Elemen
            const modal = document.getElementById('loginModal');
            const deptDisplay = document.getElementById('deptDisplay');
            const usernameInput = document.getElementById('loginUsername');
            const passwordInput = document.getElementById('loginPassword');
            const loginBtn = document.getElementById('loginBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const closeBtn = document.getElementById('closeModalBtn');
            const errorDiv = document.getElementById('loginError');

            let selectedDept = null;  // 'core', 'kazine', 'kaboom'

            // Tutup modal
            function closeModal() {
                modal.style.display = 'none';
                usernameInput.value = '';
                passwordInput.value = '';
                errorDiv.style.display = 'none';
                selectedDept = null;
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt" style="margin-right: 8px;"></i> Masuk';
            }

            // Tampilkan modal
            function openModal(deptName, deptCode) {
                deptDisplay.innerText = `Departemen ${deptName}`;
                selectedDept = deptCode;
                modal.style.display = 'flex';
                usernameInput.focus();
                errorDiv.style.display = 'none';
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt" style="margin-right: 8px;"></i> Masuk';
            }

            // Proses login
            function processLogin() {
                const user = usernameInput.value.trim();
                const pass = passwordInput.value.trim();

                if (!user || !pass) {
                    showError('Username dan password harus diisi');
                    return;
                }

                // Cari user yang username & password cocok (case-insensitive username)
                const found = userDB.find(entry => 
                    entry.username.toLowerCase() === user.toLowerCase() && 
                    entry.password === pass
                );

                if (!found) {
                    showError('Username atau password salah');
                    return;
                }

                // Validasi departemen yang diklik vs allowedDept
                if (found.allowedDept !== selectedDept) {
                    // Jika user valid tapi mencoba masuk ke departemen yang salah
                    showError(`Akun tidak memiliki akses ke departemen ini.`);
                    return;
                }

                // Sukses!
                errorDiv.style.display = 'none';
                loginBtn.disabled = true;
                loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Mengarahkan...';

                // Redirect
                setTimeout(() => {
                    window.location.href = found.redirect;
                }, 400);
            }

            function showError(msg) {
                errorDiv.innerText = msg;
                errorDiv.style.display = 'block';
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt" style="margin-right: 8px;"></i> Masuk';
            }

            // Event listener kartu
            const cards = document.querySelectorAll('.department-card');
            cards.forEach(card => {
                card.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const deptName = this.querySelector('h3').innerText;  // "CORE", "KAZINE", "KABOOM"
                    let deptCode = '';
                    if (deptName === 'CORE') deptCode = 'core';
                    else if (deptName === 'KAZINE') deptCode = 'kazine';
                    else if (deptName === 'KABOOM') deptCode = 'kaboom';

                    // Buka modal, simpan kode departemen
                    openModal(deptName, deptCode);
                });
            });

            // Tombol login
            loginBtn.addEventListener('click', processLogin);

            // Enter di password
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    processLogin();
                }
            });

            // Cancel & close
            cancelBtn.addEventListener('click', closeModal);
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) closeModal();
            });

            // Fallback logo
            const logo = document.getElementById('logoKachoo');
            if (logo) {
                logo.onerror = function() {
                    this.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='70' height='70' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23000'/%3E%3Ctext x='50' y='68' font-family='Arial' font-size='48' fill='%23fff' text-anchor='middle'%3EK%3C/text%3E%3C/svg%3E";
                };
            }

            // Update waktu footer
            function updateSystemTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
                const span = document.querySelector('.system-info span');
                if (span) span.textContent = `Sistem Aktif — Terakhir diperbarui: ${timeString}`;
            }
            updateSystemTime();
            setInterval(updateSystemTime, 60000);
        })();
    </script>
</body>
</html>
